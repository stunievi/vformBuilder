{"version":3,"sources":["webpack:///./src/view/application/design.vue?9aca","webpack:///src/view/application/design.vue","webpack:///./src/view/application/design.vue?acf6","webpack:///./src/view/application/design.vue","webpack:///./src/view/application/design.vue?e7f4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","expression","_l","v","type","key","ref","refInFor","_e","on","save","_v","_s","values","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,YAAYC,MAAM,CAACC,MAAOT,EAAS,MAAEU,SAAS,SAAUC,GAAMX,EAAIS,MAAME,GAAKC,WAAW,YAAY,GAAGR,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,GAAK,UAAU,CAACP,EAAIa,GAAIb,EAAQ,MAAE,SAASc,GAAG,MAAO,CAAY,OAAVA,EAAEC,KAAeX,EAAG,MAAM,CAACY,IAAIF,EAAEG,IAAI,QAAQC,UAAS,EAAKX,MAAM,CAAC,KAAOO,KAAKd,EAAImB,SAAQf,EAAG,YAAY,CAACgB,GAAG,CAAC,MAAQpB,EAAIqB,OAAO,CAACrB,EAAIsB,GAAG,QAAQtB,EAAIsB,GAAG,IAAItB,EAAIuB,GAAGvB,EAAIwB,QAAQ,MAAM,MACjkBC,EAAkB,G,gECiBtB,GACE,WAAF,CACI,IAAJ,QAEE,MAAF,CACI,MADJ,SACA,GAAM,IAAN,OACM,KAAN,QACM,KAAN,sBACQ,EAAR,sBAEM,QAAN,iBAGE,KAbF,WAcI,MAAJ,CACM,MAAN,GACM,KAAN,GACM,OAAN,KAGE,QApBF,WAqBI,KAAJ,sBACA,CACM,KAAN,MACM,KAAN,IACM,MAAN,SACM,SAAN,CACA,CACA,CACQ,KAAR,OACQ,KAAR,KACQ,KAAR,YAMA,CACM,KAAN,MACM,KAAN,IACM,MAAN,SACM,SAAN,CACA,CACA,CACQ,KAAR,OACQ,KAAR,OACQ,KAAR,YAEA,CACA,CACQ,KAAR,KACQ,KAAR,SACQ,QAAR,CACA,IACA,KAEQ,KAAR,YAMA,CACM,KAAN,MACM,KAAN,IACM,SAAN,CACA,CACA,CACQ,KAAR,OACQ,KAAR,OAGA,CACA,CACQ,KAAR,KACQ,KAAR,SACQ,QAAR,CACA,IACA,KAEQ,KAAR,UAEA,CACA,CACQ,KAAR,OACQ,KAAR,SAKA,CACM,KAAN,MACM,KAAN,IACM,SAAN,CACA,CACA,CACQ,KAAR,OACQ,KAAR,SAGA,CACA,CACQ,KAAR,OACQ,KAAR,UAKA,CACM,KAAN,MACM,KAAN,IACM,SAAN,CACA,CACA,CACQ,KAAR,OACQ,KAAR,OAGA,CACA,CACQ,KAAR,KACQ,KAAR,SACQ,QAAR,CACA,KACA,aAqBE,QAAF,CACI,KADJ,WAEM,IAAN,KAEM,KAAN,kCAGA,0CACU,QAAV,YACA,sBAEY,EAAZ,4BAQM,KAAN,SACM,KAAN,YAEI,aAAJ,WAKM,IAHA,IAAN,oJACA,KACA,IACA,YACQ,GAAR,gCAEM,OAAN,GAEI,SAAJ,WAAM,IAAN,OACM,KAAN,sDACQ,GAAR,2BACQ,QAAR,2BACQ,SAAR,8BACA,kBAEA,gBACU,EAAV,qBAEU,EAAV,UACY,QAAZ,OACY,KAAZ,kBC/M+V,I,wBCQ3VC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,yBAAuf,EAAG,G","file":"js/chunk-7e0b5e14.3036d1f9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box h100\"},[_c('div',{staticClass:\"left h100\"},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"right h100 ovy\",attrs:{\"id\":\"right\"}},[_vm._l((_vm.data),function(v){return [(v.type == 'box')?_c('Box',{key:v,ref:\"boxes\",refInFor:true,attrs:{\"data\":v}}):_vm._e()]}),_c('el-button',{on:{\"click\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"+_vm._s(_vm.values)+\" \")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"box h100\">\r\n        <div class=\"left h100\">\r\n            <el-input type=\"textarea\" v-model=\"value\"></el-input>\r\n        </div>\r\n        <div id=\"right\" class=\"right h100 ovy\">\r\n            <template v-for=\"v in data\">\r\n                <Box v-if=\"v.type == 'box'\" :data=\"v\" ref=\"boxes\" :key=\"v\"></Box>\r\n            </template>\r\n\r\n            <el-button @click=\"save\">保存</el-button>\r\n            {{values}}\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import Box from \"../../components/model/Box\"\r\n\r\n    export default {\r\n        components: {\r\n            Box\r\n        },\r\n        watch: {\r\n            value(nv) {\r\n                this.data = [];\r\n                this.$nextTick(() => {\r\n                    this.data = JSON.parse(nv);\r\n                })\r\n                console.log(this.data);\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                value: \"\",\r\n                data: [],\r\n                values: \"\"\r\n            }\r\n        },\r\n        mounted() {\r\n            this.value = JSON.stringify([\r\n                {\r\n                    \"type\": \"box\",\r\n                    \"cols\": \"1\",\r\n                    align: \"center\",\r\n                    \"children\": [\r\n                        [\r\n                            {\r\n                                \"type\": \"text\",\r\n                                \"name\": \"姓名\",\r\n                                hint: \"请输入姓名\",\r\n                            }\r\n\r\n                        ]\r\n                    ]\r\n                },\r\n                {\r\n                    \"type\": \"box\",\r\n                    \"cols\": \"2\",\r\n                    align: \"center\",\r\n                    children: [\r\n                        [\r\n                            {\r\n                                name: \"出生日期\",\r\n                                type: \"date\",\r\n                                hint: \"请输入开始日期\"\r\n                            },\r\n                        ], [\r\n                            {\r\n                                name: \"性别\",\r\n                                type: \"select\",\r\n                                options: [\r\n                                    \"男\",\r\n                                    \"女\"\r\n                                ],\r\n                                hint: \"请选择性别\"\r\n                            }\r\n                        ]\r\n                    ]\r\n                },\r\n\r\n                {\r\n                    \"type\": \"box\",\r\n                    \"cols\": \"3\",\r\n                    children: [\r\n                        [\r\n                            {\r\n                                \"type\": \"text\",\r\n                                \"name\": \"工号\"\r\n                            },\r\n                        ],\r\n                        [\r\n                            {\r\n                                name: \"民族\",\r\n                                type: \"select\",\r\n                                options: [\r\n                                    \"汉\",\r\n                                    \"回\"\r\n                                ],\r\n                                hint: \"请选择民族\"\r\n                            }\r\n                        ], [\r\n                            {\r\n                                \"type\": \"text\",\r\n                                \"name\": \"面貌\"\r\n                            }\r\n                        ]\r\n                    ]\r\n                },\r\n                {\r\n                    \"type\": \"box\",\r\n                    \"cols\": \"2\",\r\n                    children: [\r\n                        [\r\n                            {\r\n                                \"type\": \"text\",\r\n                                \"name\": \"身份证号\"\r\n                            },\r\n                        ],\r\n                        [\r\n                            {\r\n                                \"type\": \"text\",\r\n                                \"name\": \"手机号\"\r\n                            },\r\n                        ]\r\n                    ]\r\n                },\r\n                {\r\n                    \"type\": \"box\",\r\n                    \"cols\": \"2\",\r\n                    children: [\r\n                        [\r\n                            {\r\n                                \"type\": \"text\",\r\n                                \"name\": \"住址\"\r\n                            },\r\n                        ],\r\n                        [\r\n                            {\r\n                                name: \"婚姻\",\r\n                                type: \"select\",\r\n                                options: [\r\n                                    \"已婚\",\r\n                                    \"未婚\"\r\n                                ]\r\n                            }\r\n                        ]\r\n                    ]\r\n                },\r\n                // {\r\n                //     type:\"box\",\r\n                //     cols:1,\r\n                //     align:\"center\",\r\n                //     children:[\r\n                //         [\r\n                //             {\r\n                //                 type:\"button\",\r\n                //                 text:\"提交定定\"\r\n                //             }\r\n                //         ]\r\n                //     ]\r\n                // },\r\n            ]);\r\n        },\r\n        methods: {\r\n            save() {\r\n                var vals = {};\r\n                // var formData = []\r\n                this.$refs.boxes.forEach(e => {\r\n                    // console.log(e.$refs)\r\n                    // ;\r\n                    (e.$refs.widgets || []).forEach(ee => {\r\n                        console.log(ee.data)\r\n                        if (ee.data && ee.data.name) {\r\n                            // console.log(ee.data.)\r\n                            vals[ee.data.name] = ee.value;\r\n                            // vals[\"value\"] = ee.value;\r\n                            // vals[\"field\"] = this.randomCoding();\r\n                            // formData.push({name:ee.data.name,value:ee.value,field:ee.data.name})\r\n                            // formData.push({name:ee.data.name,value:ee.value,field:this.randomCoding()})\r\n                        }\r\n                    });\r\n                });\r\n                this.values = vals;\r\n                this.pushData()\r\n            },\r\n            randomCoding: function () {\r\n                //创建26个字母数组\r\n                var arr = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '_', '1', '2', '3', '4', '5', '6', '7', '8', '9'];\r\n                var idvalue = '';\r\n                let n = 8;//这个值可以改变的，对应的生成多少个字母，根据自己需求所改\r\n                for (var i = 0; i < n; i++) {\r\n                    idvalue += arr[Math.floor(Math.random() * 36)];\r\n                }\r\n                return idvalue;\r\n            },\r\n            pushData: function () {\r\n                this.axios.post(this.global.url + \"/app/insertFormDataById\", {\r\n                    id: \"5e0ef48ece51c76c370a017e\",\r\n                    formTab : JSON.stringify(this.value),\r\n                    formData: JSON.stringify(this.values)\r\n                }).then((response) => {\r\n                    // dom根据formList长度判断是否为空\r\n                    if (response.data.state != true) {\r\n                        this.$message(\"保存表单信息失败\")\r\n                    } else {\r\n                        this.$message({\r\n                            message: \"保存成功\",\r\n                            type: 'success'\r\n                        })\r\n                    }\r\n                    // console.log(this.formList)\r\n\r\n                })\r\n            }\r\n            // add11(){\r\n            //     this.data.push({\r\n            //         type:\"box\"\r\n            //     });\r\n            // },\r\n            // add12(){\r\n            //     this.data.push({\r\n            //         type:\"box\"\r\n            //     });\r\n            // },\r\n\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    .box {\r\n        display: flex;\r\n        padding: 40px;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .left {\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding-right: 20px;\r\n        width: 200px;\r\n\r\n    }\r\n\r\n    .right {\r\n        max-width: 800px;\r\n        padding-left: 20px;\r\n        padding-right: 20px;\r\n        border-left: 1px solid #ddd;\r\n        flex: 1;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./design.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./design.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./design.vue?vue&type=template&id=372ea88e&scoped=true&\"\nimport script from \"./design.vue?vue&type=script&lang=js&\"\nexport * from \"./design.vue?vue&type=script&lang=js&\"\nimport style0 from \"./design.vue?vue&type=style&index=0&id=372ea88e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"372ea88e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./design.vue?vue&type=style&index=0&id=372ea88e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./design.vue?vue&type=style&index=0&id=372ea88e&scoped=true&lang=css&\""],"sourceRoot":""}