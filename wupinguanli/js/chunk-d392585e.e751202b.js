(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d392585e"],{"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,a=i("b301");t.exports=a("forEach")?function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"3e6f":function(t,e,i){"use strict";var n=i("5591"),a=i.n(n);a.a},4160:function(t,e,i){"use strict";var n=i("23e7"),a=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},"4b3b":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{display:"flex","align-items":"center"}},[i("div",[i("span",{staticClass:"small"},[t._v(" "+t._s(t.info.title)+": ")])]),i("div",{staticStyle:{"flex-grow":"1"}},[i("el-input",{attrs:{placeholder:"请填写信息",size:"small"},model:{value:t.info.value,callback:function(e){t.$set(t.info,"value",e)},expression:"info.value"}})],1)])},a=[],l={name:"vinput",props:{info:Object},data:function(){return{inputValue:"",type:"show-password"}}},s=l,r=(i("e3a5"),i("2877")),o=Object(r["a"])(s,n,a,!1,null,null,null),c=o.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-switch",{attrs:{"active-text":"按月付费","inactive-text":"按年付费"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)},p=[],d={name:"vswitch",data:function(){return{value1:!0}}},f=d,m=Object(r["a"])(f,u,p,!1,null,null,null),h=m.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h3",[t._v(" "+t._s(t.info.title)+": ")])])},g=[],b={name:"vtitle",props:{info:Object},data:function(){return{value:"123"}},render:function(t){return t("h3","title")}},y=b,_=Object(r["a"])(y,v,g,!1,null,null,null),k=_.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"primary"}},[t._v(t._s(t.info.title)),i("i",{staticClass:"el-icon-upload el-icon--right"})])],1)},w=[],C={name:"vbutton",props:{info:Object},data:function(){return{value:"提交"}}},I=C,$=Object(r["a"])(I,x,w,!1,null,null,null),O=$.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",{staticClass:"small"},[t._v(t._s(t.info.title)+":")]),i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.change},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)},E=[],j=(i("7db0"),{name:"vselect",props:{info:Object},data:function(){return{options:this.info.options,value:this.info.value||""}},methods:{change:function(t){var e={};e=this.options.find((function(e){return e.value===t})),console.log(e),console.log(this.value)}}}),V=j,J=(i("3e6f"),Object(r["a"])(V,S,E,!1,null,null,null)),q=J.exports;e["a"]={name:"formBuilder",props:["rule"],data:function(){var t={margin:"10px 0"};return{component:t}},methods:{builderTemplate:function(t){var e,i=this.$createElement;switch(t){case"input":e=i(c,{attrs:{info:this.rule}});break;case"switch":e=i(h,{attrs:{info:this.rule}});break;case"title":e=i(k,{attrs:{info:this.rule}});break;case"button":e=i(O,{attrs:{info:this.rule}});break;case"slider":e=i("span",[t," "]);break;case"upload":e=i("span",[t," "]);break;case"select":e=i(q,{attrs:{info:this.rule}});break;case"radio":e=i("span",[t," "]);break;case"checkbox":e=i("span",[t," "]);break;case"inputmnumber":e=i("span",[t," "]);break;case"timepicker":e=i("span",[t," "]);break;case"datapicker":e=i("span",[t," "]);break;case"cascader":e=i("span",[t," "]);break;case"layout":break;case"col":e=i("span",[t," "]);break}return e}},render:function(){var t=arguments[0];return t("div",{style:this.component},[this.builderTemplate(this.rule.type)])}}},5591:function(t,e,i){},"876a":function(t,e,i){"use strict";var n=i("8886"),a=i.n(n);a.a},8886:function(t,e,i){},adea:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("el-drawer",{attrs:{title:"编辑",visible:t.drawer,"append-to-body":!0,modal:!1},on:{"update:visible":function(e){t.drawer=e}}},[i("div",[i("editItem",{attrs:{info:t.drawerItem}})],1)]),i("el-container",{staticStyle:{height:"100%"}},[i("el-aside",{staticStyle:{"max-width":"200px",height:"100%",border:"1px solid rgb(240,240,240)"}},[i("draggable",{staticClass:"list-group",attrs:{list:t.list1,group:{name:"element",pull:"clone",put:!1},clone:t.clone}},t._l(t.list1,(function(e){return i("div",{key:e.name,staticClass:"list-group-item",staticStyle:{margin:"5px"}},[i("el-button",{attrs:{size:"small"}},[t._v(t._s(e.name))])],1)})),0)],1),i("el-container",[i("el-header",{staticStyle:{"text-align":"right","font-size":"12px","border-bottom":"1px solid rgb(240, 240, 240)"}},[i("el-button",{on:{click:function(e){return t.link()}}},[t._v("关联关系")]),i("el-button",{on:{click:function(e){return t.save()}}},[t._v("保存")])],1),i("el-main",[i("draggable",{staticClass:"list-group templates",attrs:{list:t.list2,group:"element"},on:{change:t.log}},t._l(t.list2,(function(e,n){return i("div",{key:n,staticClass:"list-group-item"},[null==e.items?i("div",{staticClass:"templates-item"},[i("div",{staticClass:"edit"},[i("span",{on:{click:function(e){return t.editItem(n)}}},[t._v("编辑")]),i("span",{on:{click:function(e){return t.deleteItem(n)}}},[t._v("删除")])]),i("formBuilder",{attrs:{rule:e}})],1):t._e(),null!=e.items?i("div",{staticClass:"templates-item-col"},[i("draggable",{staticClass:"list-group templates",staticStyle:{height:"60px"},attrs:{list:e.items,group:"element"},on:{change:t.log}},[i("el-row",{staticStyle:{"justify-content":"center",display:"flex","align-items":"center"},attrs:{gutter:20}},t._l(e.items,(function(n,a){return i("el-col",{key:a,attrs:{span:12}},[i("div",{staticClass:"grid-content bg-purple"},[i("div",{staticClass:"list-group-item-col"},[i("formBuilder",{attrs:{rule:n}}),i("div",{staticClass:"edit-son"},[i("span",{on:{click:function(e){return t.editItemson(n,a)}}},[t._v("编辑")]),i("span",{on:{click:function(i){return t.deleteItemson(e,a)}}},[t._v("删除")])])],1)])])})),1)],1),i("div",{staticClass:"edit-parent"},[i("span",{on:{click:function(e){return t.deleteItem(n)}}},[t._v("删除")])])],1):t._e()])})),0)],1)],1)],1)],1)},a=[],l=(i("4160"),i("a434"),i("310e")),s=i.n(l),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticStyle:{padding:"10px"}},[null!=t.info.title?i("div",{staticStyle:{display:"flex","align-items":"center",margin:"10px 0"}},[t._m(0),i("div",{staticStyle:{"flex-grow":"1"}},[i("el-input",{attrs:{placeholder:"请填写信息",size:"small"},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1)]):t._e()]),i("div",{staticStyle:{margin:"10px auto 0 auto",width:"41px"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sure()}}},[t._v("确定"),i("i",{staticClass:"el-icon-upload el-icon--right"})])],1)])},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",[t._v(" 标题: ")])])}],c={name:"editItem",props:{info:Object},data:function(){return{inputValue:this.info.title,type:""}},methods:{sure:function(){console.log(this.info),this.info.title=this.inputValue}},watch:{info:function(){this.inputValue=this.info.title}}},u=c,p=i("2877"),d=Object(p["a"])(u,r,o,!1,null,null,null),f=d.exports,m=i("4b3b"),h=[{name:"标题",title:"标题",type:"title"},{name:"开关",type:"switch",title:"开关"},{name:"滑块",title:"滑块",type:"slider"},{name:"上传",title:"上传",type:"upload"},{type:"input",name:"输入框",title:"输入框",field:"",value:"",col:{span:12,labelWidth:150},props:{type:"text"},validate:[{required:!0,message:"请输入goods_name",trigger:"blur"}]},{name:"选择框",title:"选择框",type:"select",options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}]},{name:"单选框",title:"单选框",type:"radio"},{name:"多选框",title:"多选框",type:"checkbox"},{name:"计数器",title:"计数器",type:"inputmnumber"},{name:"时间选择器",title:"时间选择器",type:"timepicker"},{name:"日期选择器",title:"日期选择器",type:"datapicker"},{name:"级联选择器",title:"级联选择器",type:"cascader"},{name:"按钮",title:"按钮",type:"button"},{name:"分栏",title:"",type:"layout",items:[{type:"input",name:"输入框",title:"输入框",value:""},{type:"input",name:"输入框",title:"输入框",value:""}]},{name:"两格栅栏",title:"栅栏",type:"col"}],v=h,g={components:{draggable:s.a,formBuilder:m["a"],editItem:f},data:function(){return{dialogVisible:!1,list1:v,drawer:!1,direction:"rtl",drawerItem:{},list2:[]}},mounted:function(){var t=this;this.axios.post(this.global.url+"/app/getAppFormInfo",{id:this.$route.query.id}).then((function(e){1==e.data.state?null!=e.data.data.data&&(t.list2=e.data.data.data):t.$message("获取表单信息失败")}))},methods:{add:function(){this.list.push({name:"Juan"})},replace:function(){this.list=[{name:"Edgard"}]},clone:function(t){console.log(t);var e=Object.assign({},t);return e.field=this.randomCoding(),e},log:function(){window.console.log(this.list2)},editItem:function(t){console.log(this.list2[t]),this.drawerItem=this.list2[t],this.drawer=!0},deleteItem:function(t){var e=this;this.$confirm("确认删除?").then((function(){e.list2.splice(t,1)})),console.log(this.list2)},editItemson:function(t,e){console.log(t),this.drawerItem=t,this.drawer=!0},deleteItemson:function(t,e){console.log(t.items[e]),this.$confirm("确认删除?").then((function(){t.items.splice(e,1)}))},save:function(){for(var t=this,e=[],i=JSON.parse(JSON.stringify(this.list2)),n=0;n<i.length;n++)if(null!=i[n].items){e.push(n);for(var a=0;a<i[n].items.length;a++)i[n].items[a].field=this.randomCoding(),i.push(i[n].items[a])}e.forEach((function(t){i.splice(t,1)})),this.axios.post(this.global.url+"/app/insertFormInfo",{id:this.$route.query.id,formInfo:JSON.stringify(this.list2),formList:JSON.stringify(i)}).then((function(e){1!=e.data.state?t.$message("保存表单信息失败"):t.$message({message:"保存成功",type:"success"})}))},randomCoding:function(){for(var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","1","2","3","4","5","6","7","8","9"],e="",i=8,n=0;n<i;n++)e+=t[Math.floor(36*Math.random())];return e},link:function(){this.$router.push({path:"/designApp/newApplication/link",query:{id:this.$route.query.id}})}}},b=g,y=(i("876a"),Object(p["a"])(b,n,a,!1,null,"69fffe8b",null));e["default"]=y.exports},e3a5:function(t,e,i){"use strict";var n=i("f32d"),a=i.n(n);a.a},f32d:function(t,e,i){}}]);
//# sourceMappingURL=chunk-d392585e.e751202b.js.map